var CountdownHelper=function(){function e(){var e=this;this.observer=new MutationObserver(function(t){t.forEach(function(t){var n=parseFloat(t.target.textContent.trim().split(":")[1]);if(e.counter-n>0&&e.counter-n<=1&&(e.counter=n),e.counter%5==0&&e.counter!==e.utterances[0]){var o=e.counter+" seconds left",r=new SpeechSynthesisUtterance(o);r.rate=1.8,window.speechSynthesis.speak(r),e.utterances.unshift(e.counter)}})})}return e.prototype.start=function(){this.reset(),this.observer.observe(document.getElementsByClassName("clock")[0],{characterData:!0,attributes:!0,childList:!0,subtree:!0}),console.log("countdown observer started")},e.prototype.stop=function(){this.observer.disconnect(),console.log("countdown observer stopped")},e.prototype.reset=function(){this.counter=60,this.utterances=[60],console.log("counter reset")},e}(),DomModifier=function(){function e(){this.countdownHelper=new CountdownHelper}return e.prototype.addStartAiButton=function(){var e=this,t=document.getElementsByClassName("btns-container")[0];if(t instanceof HTMLElement){t.style.cssFloat="right";var n=t.firstChild;"A"===n.nodeName&&n instanceof HTMLElement&&n.addEventListener("click",this.countdownHelper.reset);var o=t.cloneNode(!0);if(o instanceof HTMLElement){o.style.cssFloat="left",o.style.marginRight="12px";var r=o.firstChild;"A"===r.nodeName&&r instanceof HTMLElement&&(r.innerText="Start AI",r.classList.remove("new-game-btn"));var s=o.cloneNode(!0);if(s instanceof HTMLElement){s.style.display="none";var i=s.firstChild;"A"===i.nodeName&&i instanceof HTMLElement&&(i.innerText="Stop AI",i.style.color="#b4b4b3",i.style.borderBottom="#272422",i.style.backgroundColor="#272422",i.addEventListener("click",function(){o.style.display="block",s.style.display="none",e.countdownHelper.stop()})),r.addEventListener("click",function(){s.style.display="block",o.style.display="none",e.countdownHelper.start()})}t.parentNode.appendChild(o),t.parentNode.appendChild(s)}}return this},e.prototype.rightAlignStartButton=function(){var e=document.getElementsByTagName("head")[0];if(e instanceof HTMLElement){var t=document.createTextNode(".btns-container { float: right; }"),n=document.createElement("style");n instanceof HTMLElement&&(n.type="text/css",n.appendChild(t)),e.appendChild(n)}return this},e}();(new DomModifier).rightAlignStartButton().addStartAiButton();